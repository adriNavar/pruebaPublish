@model GeoSit.Client.Web.Models.ValuacionModel
@{
    ViewBag.Title = "Valores Básicos de la Tierra por Módulo";
    ViewBag.Description = "";
    ViewBag.MensajeEntrada = "";

}


    <link href="~/Content/valuacion.css" rel="stylesheet" />
    <link href="~/Content/jquery.jscrollpane.css" rel="stylesheet" />
    <link href="~/Content/dataTables.bootstrap.css" rel="stylesheet" />
    <link href="~/Content/formValidation.min.css" rel="stylesheet" />
    <link href="~/Content/select2-bootstrap.css" rel="stylesheet" />


@*Modal Contenido*@
<div class="modal fade" id="myModal" tabindex="-100" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header centrado" style="padding: 10px 0px 40px;">
                <h4 class="modal-title col-lg-12 col-xs-12 col-sm-12 col-md-12" id="myModalLabel">@ViewBag.Title</h4>
            </div>
            <div class="modal-body   modal-body-scroll">
                @using (Html.BeginForm("GrabaTierraPorModulo", "Valuacion", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { id = "form", role = "form", novalidate = "" }))
                {
                @Html.AntiForgeryToken()
                ViewBag.MensajeEntrada = Model.Mensaje;
                //@Html.Hidden("model.Parcela.Tipo_Parcela", Model.Parcela.Tipo_Parcela)
                @Html.Hidden("model.IdFiltroParcela", Model.IdFiltroParcela)
                        <div class="row " style="height:3em;">
                    @*<div class="col-lg-3 col-xs-3 col-sm-3 col-md-3"> </div>*@
                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 centrado">
                        <button type="button" id="masOpcionesZona" class="btnSinBorde h4" title="Más Opciones" data-placement="bottom" style="border-radius:0px; height:100%; cursor:pointer;">
                            Zona
                        </button>
                    </div>
                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 centrado h4">Comparación</div>
                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 centrado">
                        <button type="button" id="masOpcionesSup" class="btnSinBorde h4" title="Más Opciones" data-placement="bottom" style="border-radius:0px; height:100%; cursor:pointer;">
                            Sup (m<sup>2</sup>)
                        </button>
                    </div>
                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 centrado"><label class="h4">Cant. Módulos</label> </div>
                </div>

                <div class="row" style=" padding: 0px 20px;">
                    @{
                var margensegundo = "";
                        var margen = "";
                        if (Model.TierraPorModulo.Zona.Count() > 0)
                        {
                            margen = "margin-top: 10px;";
                        }
                    }
                    @*<div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 BordeCuadro borde-derecho" style="height:100%;"></div>*@

                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 BordeCuadro borde-superior borde-izquierdo borde-inferior" id="divZona" style="height: 100%; padding: 10px 10px;">
                        @********valor 1********@
                        @*@Html.TextBoxFor(model => model.TierraPorSuperficie.Zona, new { @id = "Zona_0", @class = "centrado", @style = "width:100%;", @value = "", @onClick = "AgregarCampo(0)", @maxlength = "6", @tabindex = "1" })*@

                        @for (int i = 0; i < Model.TierraPorModulo.Zona.Count(); i++)
                            {
                                var tabIndice = i + 1;
                                if (i > 0)
                                {
                                    margensegundo = "margin-top: 10px;";
                                }
                            @*<input class="centrado inputSeleccionado inputzona" data-val="true" id="Zona_@i" name="model.TierraPorSuperficie.Zona" style="width: 100%; @margensegundo " type="text" value="@Model.TierraPorSuperficie.Zona[i]" maxlength="12" tabindex="1">*@
                            <select id="Zona_@i" class="form-control" name="model.TierraPorModulo.Zona" style="width: 100%; @margensegundo ">

                                @{foreach (var item in ViewBag.listaZonas)
                                    {
                                        if (item.FeatId == Model.TierraPorModulo.Zona[i])
                                        {
                                    <option value="@item.FeatId" selected>@item.Nombre</option>
                                        }
                                        else
                                        {
                                    <option value="@item.FeatId">@item.Nombre</option>
                                        }
                                    }
                                }
                            </select>
                            }
                        @*<input class="centrado inputSeleccionado inputzona" data-val="true" id="Zona_@Model.TierraPorSuperficie.Zona.Count()" name="model.TierraPorSuperficie.Zona" onclick="AgregarCampo(@Model.TierraPorSuperficie.Zona.Count())" style="width:100%; @margen" type="text" value="" maxlength="12" tabindex="1">*@
                        <select id="Zona_@Model.TierraPorModulo.Zona.Count()" class="form-control" name="model.TierraPorModulo.Zona" style="width:100%;  @margen">
                            @{foreach (var item in ViewBag.listaZonas)
                                {
                                <option value="@item.FeatId">@item.Nombre</option>
                                }
                            }
                        </select>
                    </div>

                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 BordeCuadro borde-izquierdo borde-superior borde-inferior" id="divComparacion" style="height: 100%; padding: 10px 10px;">

                        @********valor comparacion********@
                        @*@Html.HiddenFor(model => model.TierraPorModulo.ValorComparacion, new { @id = "valorComparacion" })*@
                        @*@Html.HiddenFor(model => model.TierraPorModulo.ValorComparacion, new { @id = "valorComparacion_0" })*@
                        @for (int i = 0; i < Model.TierraPorModulo.ValorComparacion.Count(); i++)
                            {
                                var comparador = long.Parse(Model.TierraPorModulo.ValorComparacion[i]);
                                margensegundo = "";
                                if (i > 0)
                                {
                                    margensegundo = "margin-top: 10px;";
                                }
                            <div class="container-fluid sin-padding">

                                <div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 sin-padding" tabindex="1" style="@margensegundo">
                                    <select class="form-control sin-padding divOpciones cmbcomparacion" id="Comparacion_@i" name="model.TierraPorModulo.ValorComparacion">
                                        @if (comparador == 1)
                                            {
                                            <option value="1" selected>Menor a</option> }
                                            else
                                            {
                                            <option value="1">Menor a</option>}

                                        @if (comparador == 2)
                                            {
                                            <option value="2" selected>Mayor a</option> }
                                            else
                                            {
                                            <option value="2">Mayor a</option>
                                            }

                                        @if (comparador == 3)
                                            {
                                            <option value="3" selected>Menor o igual a</option>
                                            }
                                            else
                                            {
                                            <option value="3">Menor o igual a</option> }

                                        @if (comparador == 4)
                                            {
                                            <option value="4" selected>Mayor o igual a</option>}
                                            else
                                            {
                                            <option value="4">Mayor o igual a</option>}

                                        @if (comparador == 5)
                                            {
                                            <option value="5" selected>Igual a</option> }
                                            else
                                            {
                                            <option value="5">Igual a</option> }

                                        @if (comparador == 6)
                                            {
                                            <option value="6" selected>Entre</option> }
                                            else
                                            {
                                            <option value="6">Entre</option>}

                                    </select>
                                </div>
                            </div>
                            }
                        <div class="container-fluid sin-padding">

                            <div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 sin-padding " tabindex="1" style="@margensegundo">
                                <select class="form-control sin-padding divOpciones cmbcomparacion" id="Comparacion_@Model.TierraPorModulo.ValorComparacion.Count()" name="model.TierraPorModulo.ValorComparacion">
                                    <option value="1">Menor a</option>
                                    <option value="2" selected>Mayor a</option>
                                    <option value="3">Menor o igual a</option>
                                    <option value="4">Mayor o igual a</option>
                                    <option value="5">Igual a</option>
                                    <option value="6">Entre</option>
                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 BordeCuadro borde-izquierdo borde-superior borde-inferior" id="divSuperficie" style="height: 100%; padding: 10px 10px;">
                        @for (int i = 0; i < Model.TierraPorModulo.Superficie.Count(); i++)
                            {
                                margensegundo = "";
                                if (i > 0)
                                {
                                    margensegundo = "margin-top: 10px;";
                                }
                                if (Model.TierraPorModulo.ValorComparacion[i] == "6")
                                {
                            @********valor 2********@
                            <div style="@margensegundo;  overflow:auto">
                                <input class="centrado form-control" id="Superficie_@i" name="model.TierraPorModulo.Superficie" onclick="" style="width:100%; display:none;  " type="text" value="@Model.TierraPorModulo.Superficie[i]" maxlength="12" tabindex="1">
                                @********valor 2 entre********@
                                <input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding  centrado divOpciones form-control" id="SuperficieDesde_@i" name="model.TierraPorModulo.SuperficieDesde" onclick="" style="width:50%;    " type="text" value="@Model.TierraPorModulo.SuperficieDesde[i]" maxlength="12" tabindex="1">
                                <input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieHasta_@i" name="model.TierraPorModulo.SuperficieHasta" style="width:50%;   " type="text" value="@Model.TierraPorModulo.SuperficieHasta[i]" maxlength="12" tabindex="1">
                            </div>
                                }
                                else
                                {
                            @********valor 2********@
                            <div style="@margensegundo;  overflow:auto">
                                <input class="centrado form-control" id="Superficie_@i" name="model.TierraPorModulo.Superficie" onclick="" style="width:100%;   " type="text" value="@Model.TierraPorModulo.Superficie[i]" maxlength="12" tabindex="1">
                                @********valor 2 entre********@
                                <input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding  centrado divOpciones form-control" id="SuperficieDesde_@i" name="model.TierraPorModulo.SuperficieDesde" onclick="" style="width:50%; display:none;  " type="text" value="@Model.TierraPorModulo.SuperficieDesde[i]" maxlength="12" tabindex="1">
                                <input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieHasta_@i" name="model.TierraPorModulo.SuperficieHasta" style="width:50%; display:none;  " type="text" value="@Model.TierraPorModulo.SuperficieHasta[i]" maxlength="12" tabindex="1">
                            </div>
                                }

                            }
                        <div style="@margen ; overflow:auto">
                            <input class="centrado form-control" id="Superficie_@Model.TierraPorModulo.Superficie.Count()" name="model.TierraPorModulo.Superficie" onclick="AgregarCampo(@Model.TierraPorModulo.Superficie.Count())" style="width:100%;  " type="text" value="" maxlength="12" tabindex="1">

                            <input class=" col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieDesde_@Model.TierraPorModulo.SuperficieDesde.Count()" name="model.TierraPorModulo.SuperficieDesde" onclick="AgregarCampo(@Model.TierraPorModulo.SuperficieDesde.Count())" style="width:50%; display:none;" type="text" value="" maxlength="12" tabindex="1">
                            <input class=" col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieHasta_@Model.TierraPorModulo.SuperficieHasta.Count()" name="model.TierraPorModulo.SuperficieHasta" onclick="AgregarCampo(@Model.TierraPorModulo.SuperficieHasta.Count())" style="width:50%; display:none;" type="text" value="" maxlength="12" tabindex="1">
                        </div>
                    </div>

                    <div class="col-lg-3 col-xs-3 col-sm-3 col-md-3 BordeCuadro borde-izquierdo borde-superior borde-inferior borde-derecho" id="divModulos" style="height: 100%; padding: 10px 10px;">
                        @********valor 3********@
                        @for (int i = 0; i < Model.TierraPorModulo.CantidadModulos.Count(); i++)
                            {
                                margensegundo = "";
                                if (i > 0)
                                {
                                    margensegundo = "margin-top: 10px;";
                                }
                            <input class="centrado form-control" id="CantidadModulos_@i" name="model.TierraPorModulo.CantidadModulos" style="width:100%; @margensegundo" type="text" value="@Model.TierraPorModulo.CantidadModulos[i]" maxlength="12" tabindex="1">
                            }
                        <input class="centrado form-control" id="CantidadModulos_@Model.TierraPorModulo.CantidadModulos.Count()" name="model.TierraPorModulo.CantidadModulos" style="width:100%; @margen" type="text" value="" maxlength="12" tabindex="1">
                    </div>

                </div>
                }
            </div>

            @*BOTONES*@
            <div class="modal-footer" id="Panel_Botones">

                <img title="Confirmar" id="guardarModulo" src="~/Content/images/Valuacion/icons/blue/32/save.png" style="cursor: pointer; margin-right:10px;">

                <img id="btnCancelarModulo" title="Cerrar" src="~/Content/images/Valuacion/icons/blue/32/cancelar.png" style="cursor:pointer;">
            </div>
        </div>
    </div>
</div>

<!-- Modal Advertencia-->
<div class="modal fade" id="ModalAdvertencia" tabindex="-2" role="dialog" aria-labelledby="TituloAdvertencia" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <input type="hidden" id="TipoAdvertencia" value="" />
                <h4 class="modal-title col-lg-11 col-xs-11 col-sm-11 col-md-11" id="TituloAdvertencia" style="color:#000000;">Titulo</h4>
                <br />
            </div>
            <div class="modal-body">
                <div id="MensajeAlerta" class="alert alert-warning alert-dismissible" role="alert">
                    <strong>Atención!</strong><br />
                    <p id="DescripcionAdvertencia">Está a punto de DESACTIVAR al usuario Perez, Juan <br />Está seguro de continuar?</p>
                </div>
            </div>
            <div class="modal-footer" style="background-color:#ffffff;" id="Panel_Botones">
                <img id="btnAdvertenciaOK" data-dismiss="modal" class="" title="Aceptar" src="~/Content/images/Seguridad/icons/blue/32/checkbox.png" style="cursor:pointer;">&ensp;&ensp;
                <img id="btnCancelarAdvertencia" data-dismiss="modal" title="Cancelar" src="~/Content/images/Seguridad/icons/blue/32/cancelar.png" style="cursor:pointer;">
            </div>
        </div>
    </div>
</div>

<!-- Modal Información-->
<div class="modal fade" id="ModalInfo" tabindex="-3" role="dialog" aria-labelledby="TituloInfo" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <input type="hidden" id="TipoInformacion" value="" />
                <h4 class="modal-title col-lg-11 col-xs-11 col-sm-11 col-md-11" id="TituloInfo" style="color:#000000;">Titulo</h4>
                <br />
            </div>
            <div class="modal-body">
                <div id="MensajeInfo" class="alert alert-success alert-dismissible" role="alert">
                    <strong>Atención!</strong><br />
                    <p id="DescripcionInfo">Descripcion de la informacion</p>
                </div>
            </div>
            <div class="modal-footer" style="background-color:#ffffff;" id="Panel_Botones">
                <img id="btnCancelarInfo" data-dismiss="modal" title="Cancelar" src="~/Content/images/Seguridad/icons/blue/32/checkbox.png" style="cursor:pointer;">
            </div>
        </div>
    </div>
</div>

    <script src="~/Scripts/jquery.dataTables.js"></script>
    <script src="~/Scripts/formValidation.min.js"></script>
    <script src="~/Scripts/bootstrapValidation.min.js"></script>
    <script src="~/Scripts/select2.js"></script>

    <script src="~/Scripts/jquery.inputmask.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.inputmask.regex.extensions.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery.inputmask.numeric.extensions.js" type="text/javascript"></script>
<script src="~/Scripts/jquery.form.js"></script>

    <script>

        function AgregarCampo(Index) {

            var indexTab = Index + 1;

            $("#Zona_" + Index).prop('onclick', null).off('click');
            $("#Superficie_" + Index).prop('onclick', null).off('click');
            $("#SuperficieDesde_" + Index + "").prop('onclick', null).off('click');

            Index++;
            indexTab++;

            if ($("#divZona").hasClass('panel-desactivado')) {

                if ($("#divZona").children().prop('disabled') == true) {

                    // var campoInput1 = '<input class="centrado  form-control" id="Zona_' + Index + '" name="model.TierraPorModulo.Zona"  style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" disabled="true" tabindex = "' + indexTab + '">'
                    var OptionsZonas = "";
                    @{

                foreach (var item in ViewBag.listaZonas)
                {

                    <text>

                    OptionsZonas += '<option value="@item.FeatId">@item.Nombre</option>';
                    </text>
                }
            }
                    var Zonas = '<select id="Zona_' + Index + '" name="model.TierraPorModulo.Zona" class="form-control" style="width:100%; margin-top: 10px;">';
                    Zonas += OptionsZonas;
                    Zonas += '</select>'
                    var campoInput1 = Zonas;
                    var campoInput2 = '<div class="container-fluid sin-padding" style="margin-top: 10px;" tabindex = "' + indexTab + '">' +
                    '<div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 sin-padding ">' +
                    '<select class="form-control sin-padding divOpciones cmbcomparacion" id="Comparacion_' + Index + '" name="model.TierraPorModulo.ValorComparacion">' +
                    '<option value="1">Menor a</option>' +
                    '<option value="2">Mayor a</option>' +
                    '<option value="3">Menor o igual a</option>' +
                    '<option value="4">Mayor o igual a</option>' +
                    '<option value="5">Igual a</option>' +
                    '<option value="6">Entre</option>' +
                    '</select>' +
                    '</div>' +
                    '</div>'


                    var campoInput3 = '<div style=" margin-top: 10px; overflow:auto"> <input class="centrado form-control" id="Superficie_' + Index + '" name="model.TierraPorModulo.Superficie" onclick="AgregarCampo(' + Index + ')" style="width:100%; " type="text" value="" maxlength="12" tabindex = "' + indexTab + '" >' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieDesde' + Index + '" style="height: 100%; display:none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding  centrado divOpciones form-control" id="SuperficieDesde_' + Index + '" name="model.TierraPorModulo.SuperficieDesde" onclick="AgregarCampo(' + Index + ')" style="width:50%;  " type="text" value="" maxlength="12" tabindex = "' + indexTab + '" >' +
                    //'</div>' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieHasta' + Index + '" style="height: 100%; display: none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding   centrado divOpciones form-control" id="SuperficieHasta_' + Index + '" name="model.TierraPorModulo.SuperficieHasta" style="width:50%;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" > </div>'
                    //'</div>'

                    var campoInput4 = '<input class="centrado form-control" id="CantidadModulos_' + Index + '" name="model.TierraPorModulo.CantidadModulos" style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" onkeypress="javascript:VerificaAgregarCampo(event,this)">'

                    $("#divZona").append(campoInput1);
                    $("#divComparacion").append(campoInput2);
                    $("#divSuperficie").append(campoInput3);
                    $("#divModulos").append(campoInput4);


                } else {

                    //var campoInput1 = '<input class="centrado form-control " id="Zona_' + Index + '" name="model.TierraPorModulo.Zona"  style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '">'

                    var OptionsZonas = "";
                    @{

                foreach (var item in ViewBag.listaZonas)
                {

                    <text>

                    OptionsZonas += '<option value="@item.FeatId">@item.Nombre</option>';
                    </text>
                }
            }
                    var Zonas = '<select id="Zona_' + Index + '" name="model.TierraPorModulo.Zona" class="form-control" style="width:100%; margin-top: 10px;">';
                    Zonas += OptionsZonas;
                    Zonas += '</select>'
                    var campoInput1 = Zonas;
                    var campoInput2 = '<div class="container-fluid sin-padding" style="margin-top: 10px;" tabindex = "' + indexTab + '" name="model.TierraPorModulo.ValorComparacion">' +
                    '<div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 sin-padding ">' +
                    '<select class="form-control sin-padding divOpciones cmbcomparacion" id="Comparacion_' + Index + '">' +
                    '<option value="1">Menor a</option>' +
                    '<option value="2">Mayor a</option>' +
                    '<option value="3">Menor o igual a</option>' +
                    '<option value="4">Mayor o igual a</option>' +
                    '<option value="5">Igual a</option>' +
                    '<option value="6">Entre</option>' +
                    '</select>' +
                    '</div>' +
                    '</div>'


                    var campoInput3 = '<div style=" margin-top: 10px; overflow:auto"> <input class="centrado form-control" id="Superficie_' + Index + '" name="model.TierraPorModulo.Superficie" onclick="AgregarCampo(' + Index + ')" style="width:100%; " type="text" value="" maxlength="12" tabindex = "' + indexTab + '">' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieDesde' + Index + '" style="height: 100%; display:none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieDesde_' + Index + '" name="model.TierraPorModulo.SuperficieDesde" onclick="AgregarCampo(' + Index + ')" style="width:50%; " type="text" value="" maxlength="12" tabindex = "' + indexTab + '" >' +
                    //'</div>' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieHasta' + Index + '" style="height: 100%; display: none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieHasta_' + Index + '" name="model.TierraPorModulo.SuperficieHasta" style="width:50%;  " type="text" value="" maxlength="12" tabindex = "' + indexTab + '" > </div>'
                    //'</div>'

                    var campoInput4 = '<input class="centrado form-control" id="CantidadModulos_' + Index + '" name="model.TierraPorModulo.CantidadModulos" style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" onkeypress="javascript:VerificaAgregarCampo(event,this)">'

                    $("#divZona").append(campoInput1);
                    $("#divComparacion").append(campoInput2);
                    $("#divSuperficie").append(campoInput3);
                    $("#divModulos").append(campoInput4);

                }

            } else {

                if ($(".divOpciones").prop('disabled') == true) {

                    //var campoInput1 = '<input class="centrado  form-control" id="Zona_' + Index + '" name="model.TierraPorModulo.Zona" onclick="AgregarCampo(' + Index + ')" style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" >'

                    var OptionsZonas = "";
                    @{

                        foreach (var item in ViewBag.listaZonas)
                        {

                            <text>

                    OptionsZonas += '<option value="@item.FeatId">@item.Nombre</option>';
                    </text>
                        }
                    }
                    var Zonas = '<select id="Zona_' + Index + '" name="model.TierraPorModulo.Zona" class=" form-control" style="width:100%; margin-top: 10px;">';
                    Zonas += OptionsZonas;
                    Zonas += '</select>'
                    var campoInput1 = Zonas;
                    var campoInput2 = '<div class="container-fluid sin-padding" style="margin-top: 10px;" tabindex = "' + indexTab + '" name="model.TierraPorModulo.ValorComparacion">' +
                    '<div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 sin-padding ">' +
                    '<select class="form-control sin-padding divOpciones" id="Comparacion_' + Index + '" disabled="true">' +
                    '<option value="1">Menor a</option>' +
                    '<option value="2">Mayor a</option>' +
                    '<option value="3">Menor o igual a</option>' +
                    '<option value="4">Mayor o igual a</option>' +
                    '<option value="5">Igual a</option>' +
                    '<option value="6">Entre</option>' +
                    '</select>' +
                    '</div>' +
                    '</div>'
                    var campoInput3 = '<div style=" margin-top: 10px; overflow:auto"> <input class="centrado form-control" id="Superficie_' + Index + '" name="model.TierraPorModulo.Superficie" onclick="AgregarCampo(' + Index + ')" style="width:100%; " type="text" value="" maxlength="12" disabled="true" tabindex = "' + indexTab + '">' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieDesde' + Index + '" style="height: 100%; display:none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieDesde_' + Index + '" name="model.TierraPorModulo.SuperficieDesde" onclick="AgregarCampo(' + Index + ')" style="width:50%;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" >' +
                    //'</div>' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieHasta' + Index + '" style="height: 100%; display: none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieHasta_' + Index + '" name="model.TierraPorModulo.SuperficieHasta" style="width:50%;  " type="text" value="" maxlength="12" tabindex = "' + indexTab + '" > </div>'
                    //'</div>'

                    var campoInput4 = '<input class="centrado form-control" id="CantidadModulos_' + Index + '" name="model.TierraPorModulo.CantidadModulos" style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" onkeypress="javascript:VerificaAgregarCampo(event,this)">'

                    $("#divZona").append(campoInput1);
                    $("#divComparacion").append(campoInput2);
                    $("#divSuperficie").append(campoInput3);
                    $("#divModulos").append(campoInput4);

                } else {

                    //var campoInput1 = '<input class="centrado form-control " id="Zona_' + Index + '" name="model.TierraPorModulo.Zona" onclick="AgregarCampo(' + Index + ')" style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '">'
                    var OptionsZonas = "";
                    @{

                foreach (var item in ViewBag.listaZonas)
                {

                    <text>

                    OptionsZonas += '<option value="@item.FeatId">@item.Nombre</option>';
                    </text>
                }
            }
                    var Zonas = '<select id="Zona_' + Index + '" name="model.TierraPorModulo.Zona" class="form-control" style="width:100%; margin-top: 10px;">';
                    Zonas += OptionsZonas;
                    Zonas += '</select>'
                    var campoInput1 = Zonas;
                    var campoInput2 = '<div class="container-fluid sin-padding" style="margin-top: 10px;" tabindex = "' + indexTab + '">' +
                    '<div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 sin-padding ">' +
                    '<select class="form-control sin-padding divOpciones cmbcomparacion" id="Comparacion_' + Index + '" name="model.TierraPorModulo.ValorComparacion">' +
                    '<option value="1">Menor a</option>' +
                    '<option value="2">Mayor a</option>' +
                    '<option value="3">Menor o igual a</option>' +
                    '<option value="4">Mayor o igual a</option>' +
                    '<option value="5">Igual a</option>' +
                    '<option value="6">Entre</option>' +
                    '</select>' +
                    '</div>' +
                    '</div>'

                    var campoInput3 = '<div style=" margin-top: 10px; overflow:auto"> <input class="centrado form-control" id="Superficie_' + Index + '" name="model.TierraPorModulo.Superficie" style="width:100%; " onclick="AgregarCampo(' + Index + ')"  type="text" value="" maxlength="12" tabindex = "' + indexTab + '">' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieDesde' + Index + '" style="height: 100%; display:none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieDesde_' + Index + '" name="model.TierraPorModulo.SuperficieDesde" onclick="AgregarCampo(' + Index + ')" style="width:50%;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" >' +
                    //'</div>' +
                    //'<div class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding " id="divSuperficieHasta' + Index + '" style="height: 100%; display: none; ">' +
                    '<input class="col-lg-6 col-xs-6 col-sm-6 col-md-6 sin-padding centrado divOpciones form-control" id="SuperficieHasta_' + Index + '" name="model.TierraPorModulo.SuperficieHasta" style="width:50%;  " type="text" value="" maxlength="12" tabindex = "' + indexTab + '" > </div>'
                    //'</div>'


                    var campoInput4 = '<input class="centrado form-control" id="CantidadModulos_' + Index + '" name="model.TierraPorModulo.CantidadModulos" style="width:100%; margin-top: 10px;" type="text" value="" maxlength="12" tabindex = "' + indexTab + '" onkeypress="javascript:VerificaAgregarCampo(event,this)">'

                    $("#divZona").append(campoInput1);
                    $("#divComparacion").append(campoInput2);
                    $("#divSuperficie").append(campoInput3);
                    $("#divModulos").append(campoInput4);

                }
            }
            $("#Superficie_" + Index + "").show();
            $("#SuperficieDesde_" + Index + "").hide();
            $("#SuperficieHasta_" + Index + "").hide();

            $("#Comparacion_" + Index + "").change(function () {

                if ($("#Comparacion_" + Index + "").val() == 6) {

                    $("#Superficie_" + Index + "").hide();
                    $("#SuperficieDesde_" + Index + "").show();
                    $("#SuperficieHasta_" + Index + "").show();

                } else {

                    $("#Superficie_" + Index + "").show();
                    $("#SuperficieDesde_" + Index + "").hide();
                    $("#SuperficieHasta_" + Index + "").hide();

                }
            });

            $("#Zona_" + Index + "").inputmask('Regex', { regex: "([0-9]|[A-Z]|[a-z]){6}" });
            $("#SuperficieDesde_" + Index + "").inputmask('decimal', { digits: 1, rightAlign: false, radixPoint: '.' });
            $("#SuperficieHasta_" + Index + "").inputmask('decimal', { digits: 1, rightAlign: false, radixPoint: '.' });
            $("#Superficie_" + Index + "").inputmask('decimal', { digits: 1, rightAlign: false, radixPoint: '.' });
            $("#CantidadModulos_" + Index + "").inputmask('decimal', { digits: 2, rightAlign: false, radixPoint: '.' });

        }

        function VerificaAgregarCampo(event, obj) {

            var char = event.which || event.keyCode;
            var Cantidad = $("#divModulos input").length;

            if (char == 9 && $(obj).prop("tabindex") == Cantidad) {

                AgregarCampo($(obj).prop("tabindex") - 1);

                if ($("#divZona").hasClass('panel-desactivado')) {

                    $("#SuperficieDesde_" + (Cantidad - 1)).focus();

                } else {

                    $("#CantidadModulos_" + (Cantidad - 1)).focus(); // no toma el foco en Zona_

                }
            }
        }


        $(window).resize(ajustamodal);
        function ajustamodal() {
            var altura = $(window).height() - 190; //value corresponding to the modal heading + footer
            $(".modal-body-scroll").css({ "height": altura, "overflow-y": "auto" });
        }

        $(document).ready(function () {

            ajustamodal();
            MostrarMensaje()

            $('#myModal').modal('show');
            //  $("#myModal").draggable();

            $("#btnCancelarModulo").click(function () {
                $("#form").attr("Action", "@Url.Action("ABMPadronTemporal", "Valuacion")");
                $("#form").submit();
            });

            $("#guardarModulo").click(function () {

                var cantidad = $("#divModulos input").length;

                if (cantidad > 1) {
                    cantidad = cantidad - 1;
                }

                for (var i = 0; i < cantidad; i++) {

                    if ($("#Comparacion_" + i).val() == 6) {


                        if ((($("#Zona_" + i).val() == "") || !($("#SuperficieDesde_" + i).val() == "" && $("#SuperficieHasta_" + i).val() == "" && $("#CantidadModulos_" + i).val() == "") && !($("#SuperficieDesde_" + i).val() != "" && $("#SuperficieHasta_" + i).val() != "" && $("#CantidadModulos_" + i).val() != ""))) {

                            var msj = "Todos los campos son obligatorios<br>Debe completarlos para poder grabar.";
                            $('#TituloAdvertencia').html("Advertencia - Grabar")
                            $('#DescripcionAdvertencia').html(msj)
                            $('#TipoAdvertencia').val('GrabarError')
                            $('#ModalAdvertencia').modal('show');
                            return false;
                        }


                    } else {

                        if (($("#Zona_" + i).val() == "") || (!($("#Superficie_" + i).val() == "" && $("#CantidadModulos_" + i).val() == "") && !($("#Superficie_" + i).val() != "" && $("#CantidadModulos_" + i).val() != ""))) {

                            var msj = "Todos los campos son obligatorios<br>Debe completarlos para poder grabar.";
                            $('#TituloAdvertencia').html("Advertencia - Grabar")
                            $('#DescripcionAdvertencia').html(msj)
                            $('#TipoAdvertencia').val('GrabarError')
                            $('#ModalAdvertencia').modal('show');
                            return false;
                        }

                    }

                    //if (i > 0) {


                    for (var j = 0 ; j < cantidad; j++) {
                        if (i != j) {
                            //"1" Menor a
                            //"2" Mayor a
                            //"3" Menor o igual a
                            //"4" Mayor o igual a
                            //"5" Igual a
                            //"6" Entre
                            if ($("#Comparacion_" + i).val() == 6) {
                                if (parseFloat($("#SuperficieDesde_" + i).val()) > parseFloat($("#SuperficieHasta_" + i).val())) {
                                    var msj = "El valor \"DESDE\" no puede ser superior al valor \"HASTA\".";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }

                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && ($("#SuperficieDesde_" + i).val() == $("#SuperficieDesde_" + j).val()) && ($("#SuperficieHasta_" + i).val() == $("#SuperficieHasta_" + j).val()) && ($("#CantidadModulos_" + i).val() == $("#CantidadModulos_" + j).val())) {

                                    var msj = "Las filas no pueden contener los mismos valores.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                                if ($("#Superficie_" + j).is(":visible")) {
                                    if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && (parseFloat($("#SuperficieDesde_" + i).val()) <= parseFloat($("#Superficie_" + j).val())) && (parseFloat($("#SuperficieHasta_" + i).val()) >= parseFloat($("#Superficie_" + j).val()))) {

                                        var msj = "Hay solapamiento de rangos para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                        $('#TituloAdvertencia').html("Advertencia - Grabar")
                                        $('#DescripcionAdvertencia').html(msj)
                                        $('#TipoAdvertencia').val('GrabarError')
                                        $('#ModalAdvertencia').modal('show');
                                        return false;
                                    }
                                } else {
                                    if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && ((parseFloat($("#SuperficieDesde_" + i).val()) <= parseFloat($("#SuperficieDesde_" + j).val())) && (parseFloat($("#SuperficieHasta_" + i).val()) >= parseFloat($("#SuperficieDesde_" + j).val()))) || ((parseFloat($("#SuperficieDesde_" + i).val()) <= parseFloat($("#SuperficieHasta_" + j).val())) && (parseFloat($("#SuperficieHasta_" + i).val()) >= parseFloat($("#SuperficieHasta_" + j).val())))) {

                                        var msj = "Hay solapamiento de rangos para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                        $('#TituloAdvertencia').html("Advertencia - Grabar")
                                        $('#DescripcionAdvertencia').html(msj)
                                        $('#TipoAdvertencia').val('GrabarError')
                                        $('#ModalAdvertencia').modal('show');
                                        return false;
                                    }

                                }
                            } else if ($("#Comparacion_" + i).val() == 1) {
                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && (parseFloat($("#Superficie_" + i).val()) > parseFloat($("#Superficie_" + j).val()))) {

                                    var msj = "Hay solapamiento de valores para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                            } else if ($("#Comparacion_" + i).val() == 2) {
                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && (parseFloat($("#Superficie_" + i).val()) < parseFloat($("#Superficie_" + j).val()))) {

                                    var msj = "Hay solapamiento de valores para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                            }
                            else if ($("#Comparacion_" + i).val() == 3) {
                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && (parseFloat($("#Superficie_" + i).val()) >= (parseFloat($("#Superficie_" + j).val()) + parseFloat(0.01)))) {

                                    var msj = "Hay solapamiento de valores para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                            }
                            else if ($("#Comparacion_" + i).val() == 4) {
                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && (parseFloat($("#Superficie_" + i).val()) <= (parseFloat($("#Superficie_" + j).val()) + parseFloat(0.01)))) {

                                    var msj = "Hay solapamiento de valores para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                            }
                            else if ($("#Comparacion_" + i).val() == 5) {
                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && ($("#Superficie_" + i).val() == $("#Superficie_" + j).val())) {

                                    var msj = "Hay solapamiento de valores para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                            }
                            else {
                                if (($("#Zona_" + i).val() == $("#Zona_" + j).val()) && (parseFloat($("#Superficie_" + i).val()) == parseFloat($("#Superficie_" + j).val()))) {

                                    var msj = "Hay solapamiento de valores para la misma Zona.<br>Por favor, ingréselos nuevamente.";
                                    $('#TituloAdvertencia').html("Advertencia - Grabar")
                                    $('#DescripcionAdvertencia').html(msj)
                                    $('#TipoAdvertencia').val('GrabarError')
                                    $('#ModalAdvertencia').modal('show');
                                    return false;
                                }
                            }
                        }
                    }
                }

                var msj = "Está a punto de GRABAR los valores ingresado<br>¿Está seguro de continuar?";
                $('#TituloAdvertencia').html("Advertencia - Grabar")
                $('#DescripcionAdvertencia').html(msj)
                $('#TipoAdvertencia').val('Grabar')
                $('#ModalAdvertencia').modal('show')

            });

            $("#btnAdvertenciaOK").click(function () {

                if ($('#TipoAdvertencia').val() == 'Grabar') {
                    $("#form").submit();
                }


            });

            $("#btnCerrarAdvertencia").click(function () {
                $('#ModalAdvertencia').modal('hide');
            });


            //$("#Zona_0").inputmask('Regex', { regex: "([0-9]|[A-Z]|[a-z]){6}" });
            $("#SuperficieDesde_0").inputmask('decimal', { digits: 1, rightAlign: false, radixPoint: '.' });
            $("#SuperficieHasta_0").inputmask('decimal', { digits: 1, rightAlign: false, radixPoint: '.' });
            $("#Superficie_0").inputmask('decimal', { digits: 1, rightAlign: false, radixPoint: '.' });
            $("#CantidadModulos_0").inputmask('decimal', { digits: 2, rightAlign: false, radixPoint: '.' });

            $('#masOpcionesSup').popover({
                html: true,
                content: '<div class="centrado" >' +
                '<button type="button" id="deshabilitarSup" class="btnConBorde "   style="border-radius:0px; height: 100%; cursor:pointer;">Deshabilitar Superficie' +
                '</button>  ' +
                '<button type="button" id="habilitarSup" class="btnConBorde "   style="border-radius:0px; height: 100%; cursor:pointer;">Habilitar Superficie' +
                '</button>  ' +
                '</div>'
            });

            $('#masOpcionesSup').click(function () {

                $('#masOpcionesZona').attr("disabled", false);
                $(".popover").css('border-color', 'transparent');
                $(".arrow").css('border-bottom-color', '#093C57');

                if ($("#divSuperficie").children().prop('disabled') == true) {
                    $("#deshabilitarSup").hide();
                    $("#habilitarSup").css('display', '');
                } else {
                    $("#habilitarSup").hide();
                    $("#deshabilitarSup").css('display', '');
                    $('#masOpcionesSup').attr("disabled", false);
                }

                $("#deshabilitarSup").click(function () {

                    $('.popover').hide();
                    $('#masOpcionesZona').attr("disabled", true);
                    $("#divSuperficie").children().prop('disabled', true);
                    $(".divOpciones").prop('disabled', true);
                    $("#divSuperficie").addClass('panel-desactivado');
                    $("#divComparacion").addClass('panel-desactivado');
                    $("#habilitarSup").show();
                    $("#deshabilitarSup").hide();
                    $("#divSuperficie").removeClass('panel-activo');
                    $('#masOpcionesSup').popover('hide');
                    $('#masOpcionesZona').css('cursor', 'default');
                    //$(".divOpciones").prop('disabled', true);
                    //$("#divSuperficieHasta").children().prop('disabled', true);
                });

                $("#habilitarSup").click(function () {

                    $('#masOpcionesZona').attr("disabled", true);
                    $('#masOpcionesZona').attr("disabled", false);
                    $("#divSuperficie").children().prop('disabled', false);
                    $(".divOpciones").prop('disabled', false);
                    $("#divSuperficie").removeClass('panel-desactivado');
                    $("#divComparacion").removeClass('panel-desactivado');
                    $("#divSuperficie").addClass('panel-activo');
                    $("#divComparacion").addClass('panel-activo');
                    $("#habilitarSup").hide();
                    $("#deshabilitarSup").show();
                    $('#masOpcionesSup').popover('hide');
                    $('#masOpcionesZona').css('cursor', 'pointer');
                    //$(".divOpciones").prop('disabled', false);
                    //$("#divSuperficieHasta").children().prop('disabled', false);
                });

            });

            $('#masOpcionesZona').popover({
                html: true,
                content: '<div class="centrado" >' +
                '<button type="button" id="deshabilitarZona" class="btnConBorde "   style="border-radius:0px; height: 100%; cursor:pointer;">Deshabilitar Zona' +
                '</button>  ' +
                '<button type="button" id="habilitarZona" class="btnConBorde "   style="border-radius:0px; height: 100%; cursor:pointer;">Habilitar Zona' +
                '</button>  ' +
                '</div>'
            });

            $('#masOpcionesZona').click(function () {

                $('#masOpcionesSup').attr("disabled", false);
                $(".popover").css('border-color', 'transparent');
                $(".arrow").css('border-bottom-color', '#093C57');

                if ($("#divZona").children().prop('disabled') == true) {
                    $("#deshabilitarZona").hide();
                    $("#habilitarZona").css('display', '');
                } else {
                    $("#habilitarZona").hide();
                    $("#deshabilitarZona").css('display', '');
                    $('#masOpcionesZona').attr("disabled", false);
                }

                $("#deshabilitarZona").click(function () {

                    $('.popover').hide();
                    $('#masOpcionesSup').attr("disabled", true);
                    $("#divZona").children().prop('disabled', true);
                    $("#divZona").addClass('panel-desactivado');
                    $("#habilitarZona").show();
                    $("#deshabilitarZona").hide();
                    $("#divZona").removeClass('panel-activo');
                    $('#masOpcionesZona').popover('hide');
                    $('#masOpcionesSup').css('cursor', 'default');

                });

                $("#habilitarZona").click(function () {

                    $('#masOpcionesSup').attr("disabled", true);
                    $('#masOpcionesSup').attr("disabled", false);
                    $("#divZona").children().prop('disabled', false);
                    $("#divZona").removeClass('panel-desactivado');
                    $("#divZona").addClass('panel-activo');
                    $("#habilitarZona").hide();
                    $("#deshabilitarZona").show();
                    $('#masOpcionesZona').popover('hide');
                    $('#masOpcionesSup').css('cursor', 'pointer');

                });

            });

            $(".cmbcomparacion").change(function () {

                var indice = $(this).attr('id').substr(12, 12);
                if ($(this).val() == 6) {

                    $("#Superficie_" + indice).hide();

                    $("#SuperficieDesde_" + indice).show();
                    $("#SuperficieHasta_" + indice).show();

                } else {

                    $("#SuperficieDesde_" + indice).hide();
                    $("#SuperficieHasta_" + indice).hide();
                    $("#Superficie_" + indice).show();

                }

            });
            $("#form").ajaxForm({
                beforeSubmit: function (arr, $form, options) {
                    showLoading();
                    $("#myModal").modal('hide');
                    return true; //it will continue your submission.
                },
                success: function (data) {
                    //levantar modal

                    $("#contenido").empty();
                    $("#contenido").html(data);

                },
                error: function () {
                    alert("error");
                }
            });

            hideLoading();

            $("#form").submit(function (evt) {
                /*evita el doble submit*/
                $('#myModal').modal('hide');
                evt.preventDefault();
                evt.stopImmediatePropagation();
                return false;
            });
        });

        function MostrarMensaje() {

            var MensajeEntrada = '@ViewBag.MensajeEntrada'
            if (MensajeEntrada != null && MensajeEntrada != '') {
                if (MensajeEntrada == "OK") {
                    $('#TituloInfo').html("Información - Tierra por Módulo")
                    $('#DescripcionInfo').html("Los datos han sido guardados satisfactoriamente.")
                    $('#TipoInformacion').val('GrabacionOK')
                    $("#ModalInfo").modal('show');
                }

            }
        }


        //@ sourceURL=TierraModulo.js
    </script>
